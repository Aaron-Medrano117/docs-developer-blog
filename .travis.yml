language: ruby
rvm:
- 2.2.0
env:
  global:
  # Production
  - secure: k4Du6SH/GZNyj1fY1VGakfo6GqylpTm+NawOmN/Dobrwj3LtH7b3OG4PCQstXUAvPmIE2oG7/bH6INOVC5bR6Z3JOnlUR11qF8KLvK8cexnM7/deE7mZRRV297JugOWPCVcPxZf1hUuBWPqd2aIyo7TwgV+TRht+kh+w5ynzP73tHDSgfRxXyo9X8e0ryB4U9VbhLZbEZT4BJls56N7FZ/whBAXnvrKgZwa9bZiNIey8R1sstzBTKuhmFgLqRk/c9XI47AO5VtY3dSESZzSISgmQHuVIp8k4NbzXyr393ybx4a0eD0S+gAt/7FsXJ0RAHOkhIdPs1zUyh19CYgSXr7gnu1pomilLH848kihdwXGC9yqEMaz9wEzHIec1aWKXZHoxm+WZUN9DouqKa9vJLUrBtVllxvDuqVVglmkJc5s7CenX15Gf019O894OPAw48GO4+LNDUkbetlHXcRdTOL2Fo/3OETXgX1hCLGsvlEKrYj4Nfd53AH3zyPqLdxPiUpOc7FqVS4+7r68yx9lDs+qAw3+Y+tQ9Fh3zXlRHXOlDTO19nlKuj2yhLNPPLaYrjSeXZ6F9dJnLIdL760vz2iVO+AlJaN2PJB04eIPzpozhKNZneRs/K/EFE6ZBQRWql40+kvywom40MhEH3ODB+gpjUytXYC8Dh5gD6WwuYbo=
  - secure: DF8cgvE8IzHPmTL4Pvkcz1DjMJZK3DsuxDzq1LaE4PfZDnS8RSy4x/dqiNUDtGnbXwmJFzh7xUaUEiFLzTWUC7TwgfVj01Ejrha7RId/wA3hQQp+xsKM/uA6h3MvdAnf2RbUHyxVGsHAKgZyeO59PJ16rQ+zqNZA71w9CIlLrjCwBFJXSAHHHxLD7Q8lxy0cUTTIMz/IJR86tTXs+TMftGRX41nCLY2kMERfqrzDcD6ZDsVLapZCfT+SYMul5ZIq2iSZKhvoNDhTK1b7s+TmWFKErpV25Dib7gqF77NkQF0RrAStBTzytpIQ+elD6+njQ50HhmGfiWzvF5VXqr55kUeJPaCs7gjvyGB51dsJdKaMkQq1KdiSDDF790a9g3dRtJhcSuFJQuEBL7Jp4eABDlTfFWmWBYYgKNL2noGwOtIGREEL+w/llV2gDr4mj5TzdCycy88Lrm8Zu2HqmgzoKtTrhZNvbkmSZUalKihB0ZuO6r2q4P4N3MyFVv348bO0qoY3kiKCLPOnzl77BhkYEJhmdVUiQsPF0G2afZM63r184leCd8ScwU2eAUpVi93yhj8Aqxmh7FB4YLsVRtTUb1gaP1UPFBhjG3DVlXHdCoOCVch6d0uOh0/nISZb2GQZbG0bMrggEEVIn94wiC5720iqlJReT1wcXGQ3Cs9gbwY=
  - secure: jiiALsNg6zZ27C0cP+xGdzgQ+33Ys2neiUYQaDnTYPSlZ9XZS9tRuPlLFcajgrJGhiIdh1cyZE3bsm74XF0rFmAvaIir4U8ud64jC7WGx8/ZfE2XohpnaTHo4allRR9B/2LX49Go4Z0vY7ENWl0WnWeypHZkAvagkphnG5piOHrVUvZLYWfZPvqPemuaImF0fterqP47nQQRyB7915n1WV6PEgM5ly3EitM/a+ZPqNDnRpaDcYwLlXDV5HsaqUccnSrZwJhev3Y3zZpf2/PIFQ366MU5mZwW1UkonHIb0MgLJcgNmaV0NFRbkZtqyOJaXJCTJZ+U//QCl49+jYn2U57D/mlEGYNLfKcHCWWQ7rYvFcySZv9wSKGze6LbapWDxLGdsrUT+3rb2XFAjOX5ZfnGe80WnSyla3PDWJJvHMtAweeiEOSNgFJAX+f3JUYMAm/47agjNZ9kOxp7WK5chbWanE4zEP7Lnk70G+WLUz9Wdpnm/eO2yEh329pmKxJxGpDV/sNG9b+4+C0Wn42YqNXepkzUiBz7dMTdALnGNlk8+P5ROYiCwa4EOA2hj0WviUi9cXaU9STd4LLAcCsm/OzPfdcU7gSo9O93cNVrOSl3NN+eFBmZ14gRDk/C9gAtML4dvNmN7TtAVP8x1wraVrmjjGA1lm9EIMw64VMiDv0=
  # Staging
  - secure: Xid84Og8ucg8QmNbGPHgjAsCKA/L1Twi3mFQ6NshSXqDgYkyn+X4UQsppkKoiToJ1IFa1bXOvHf1CtRrvlc3qOQKLDlt0a5NBQ1KsErEohCWKrR3rV1mk9JJ4ddr5m8lDyw5eEAcgm3Z068La2Ux/oagQObaf7WZtZagWntl03eHacJKoVdZA953JVEYiMjEp5qVOHALfDCbIm36KiE78JWXptThN2EdVyXIA65SQvT5IkE5KRb5u+Tv7w1yJXmG1ryGe4NDxA8Wkz6yZF0M5YAOCU6jhrm+8K5IqdV++tYrlMGcARKJl4aoFo+UsMGc2OL8nVG2uloNqdT92pLfUMmHQviomtowlpdKvnx0JZ2usFQkS2pTY2NJoE6CjKwHlJKH52vARG6ZaOmRGhJ1V4N64xtWKxspsvXaa/JI+NbnHLVjcG20EA1OIN5c3HPRTTAQt/0bilzQaLkohXZsEUi3CWThmXYTJnbLgxEls0kfa+0NAmkVwlWk09I+V7u1DNVbTzI9Ygel6RQcRgpkkymEhSBl2+Ma7I1iyNgCKQ3syIcM4q9KsfGwlCBEU7Rlw2lSjls+J8KR3t6Y4n7flmjki0EQK/B7gtU4cscKVDvCMsFNJakVNhKxPUg+Y1AzmIfhavwgOn33sWKMHR2dEElMrSf372/QP2ErI2kjxDI=
  - secure: LlhfVcYQET9ZZzxuwSbKGmBZAY7pvpl23vhi82qsEKEb69ORMK/6VhjSmdPgpkXVAqJnmviALWxqci27QW+wJySXORZgHKHOjaHN03lNv5pF5fvBuXYLZa6R6QA5xh3cOdHFsaaK3pAU0sXHnikDMRGHGZEWlbzrdJgsek/hc4CCWL1xbhpknVsbamzB1jZ0PKApRMiBUSokOIO3NLaCREN/cKP7uWSVBRYGMqzSavTtXtceQe18Yd5EXc5Cgm9HC9QiYx9w+U3yZsWeBafxRypjw8yjjOxPwHZ1xWM7epIznfllXHCAwz5Bs/XE+EeWl5XSzTpgdZn0C8J0/ZLOgovjHQ41//B1e8M8T6GAWlrqVP+hWS+739aE++EXPvhlLbv8zeUnmlvvFC00KLsDMRfWRFq0VXZv1FJqPw0KjmVESbXybZAOo0eG4YnJyn3PEeeSTuBz0hfxaWMnsE+2zN+33dINZR9h0OfyV6MzVSqUj0O1uFGa9wy1ZhofPVwRKSqHTAGCwFYMA1Kyvum7IQy/Zewap/kaVGNU42eSt8kLDF+v0qfYPT10Vom+SfX1N18eKmUltnENhlRM9w2UNoluzBAsbccsro6mCg5hyySU3CyZQ4Bgke0c8KD5EEMvwDIQq55gFUvJNcHSx/2zlAQ67B9YcsHn7mPcqnZ0/I8=
  - secure: iSlwKVfgnkFyHCgKEM0jGotTgzIRQO7K3+uALtb6x+2QjnrYPYJZhSzLc1ay1itF0x3hCIHtIZPgqh56gPytelvFl7Ys52hhej1HXD0YD5BPiFNNsp8nQWapB2UxgfNLojMJJuh8c7AtgZyWgbiWF8lEfWLwpjL2zgNQAhhfAtzGWAAIkcJpmCSzL1uOh4XAZoMmGQZFaRJNa94i2BM5sYDYpFfAipFaC8PQkOGFxzU2uW+XEriPAxYdj4HyVSnuy/t64+uxKvX3af1LoOWBi08SCu6IuS71fo903fRUFtSHM7dOVN23tjdMCa85LddNwF1DV78SfN0M0Pe121GapQYLuGBe8lWl5r0Tt75aM58rZ/aa1i2jY4hFtb3Wyvpx01Tm7p0TGncNbv4e/p8uWEwsMdkqrvvzGLMHbVXrAyFxJLnQxSgbZAwcFPiN4cyMOcED4FQ5fs/u9XEiFVz5kIXDrynbLMgE4JmhhSigULSOnFVArNofNDVT5yXrbmcyvKrNFutg54f/3USLdI5wfOMOyQOuSUeqwGjbcIk1z/ewkwcq6N6zNASigpA8XkYEHnSZeMAERNDKJD3PnQCTHb0hBJYekgZ+KamCsumjxoYS0NE9Rf9Cb+dnybQE4yCS2VC6yVmMdhqFFaW+o4ZVHNc5J6s2snzExEi4E5vQQ4I=
install:
- gem install rake bundler
- git clone https://github.com/deconst/preparer-jekyll.git /tmp/preparer-jekyll
- cd /tmp/preparer-jekyll
- rake install
- cd ${TRAVIS_BUILD_DIR}
script:
- script/cibuild
notifications:
  slack:
    secure: CRE5ZQ0w8Joqp9sFwatVYh8z/r9qEKP4HiSo9V4NKUpJ6xiRe/jMeSicyr28mlQpaT9vhjUPpTDVf4NJpj20pI3vENEqjJElnqbB/OhHCRSO7oDLer9oWRy2+V2SdQIvhAqbb69ai9Wrj2XhkGnVpcc8BwChdSM3/cim8AfqhoKe+TvxfuX34VHmb5ytnH5j0Yg68Bjh9afYBaWb8qgosEHilvXTFqD2Ub29Uu8wVslM5FSeqGfDy49HxMlbN8rS926QEOyhDPtXoWHN/25M5sfQB3Ql7V3DIwZRJYgC5bQ/JpcFaJ3mAJK7bY3vT03SeSSOfDOQmEz2lTTCxdmIY1ajb6aSJcPg8v8IzmhYdy7tuBe/tVmDa7jWqUfhWXEvfHy2Chc6v6dNO0els5RZqOPRo+cc5HoLCD0PMy9zvqUofj31qRkCnfRFvsTbRAbg0vh9NWObXtZYKEQ1VnHbLCWNpVwm6S5jalokaK69bmO1Z2hHPrI969fB9eP7XKTmi0b5C7bbRTQeDwwVpFJzieNeXCwIGYxFutFpqBMJaWvfrLxWV3u1O7jDvs7yL10v47Ie6Cpb++UZ/gJUNxQ/ZmUeTV7RE1V6SZJAqCWbQX00UKAkQy601oJkuuj5gHCe9wX6Zltm4s54GYL2niQFRCjyiFDhl6AdkvDKkxz4fMU=
